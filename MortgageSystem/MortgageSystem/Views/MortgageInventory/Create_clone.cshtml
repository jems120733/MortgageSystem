
@{
    ViewBag.Title = "Create";
}

<h2>Create</h2>


@using (Html.BeginForm())
{
@*@Html.AntiForgeryToken()*@

    //#clone
    //Good
    <div class="content">
        <div id="data-container" class="data-container">
            <input id="product" class="1 text-box" name="product" value="" type="text">
            <input id="qty" class="1 required text-box" autocomplete="off"  name="qty" value="" type="text">
            <input id="price" class="1 required text-box" autocomplete="off" name="price" value="" type="text">
            <input id="extended" class="1 required text-box" autocomplete="off" name="extended" value="" type="text">
            <button class="plus-button btn-primary" type="button">+</button>
        </div>
    </div>
    @*<div class="content">
        <div id="data-container" class="data-container">
            <table>
                <tr>
                    <td><input id="product" class="1 text-box" name="product" value="" type="text"></td>
                    <td><input id="qty" class="1 required text-box" autocomplete="off" name="qty" value="" type="text"></td>
                    <td><input id="price" class="1 required text-box" autocomplete="off" name="price" value="" type="text"></td>
                    <td><input id="extended" class="1 required text-box" autocomplete="off" name="extended" value="" type="text"></td>
                    <td><button class="plus-button btn-primary" type="button">+</button></td>
                </tr>
            </table>
        </div>
    </div>*@


    <div class="actions">
        <button class="btn btn-primary" type="submit">Create</button>
    </div>

    }

            @section Scripts {
                @Scripts.Render("~/bundles/jqueryval")

                <script type="text/javascript">
                    //#1 Clone event
                    $(document).ready(function () {
                        $('.plus-button').click(AddNewRow);
                    });

                    function AddNewRow(event) {
                        //var clone = $('.data-container').last().clone().appendTo('.content');
                        var clone = $('.data-container').last().clone().appendTo('.content');
                        clone.children('.1').val(''); //delete all values of your clone
                        clone.children('.plus-button').bind('click', AddNewRow);

                        var btn = $(this).parent().find('.plus-button');  //The cloned button
                        btn.text('-');
                        btn.removeClass('plus-button');
                        btn.addClass('btn-danger');
                        btn.unbind('click');  //unbind the "old" click event
                        btn.click(RemoveRow);
                    }
                    function RemoveRow(event) {
                        $(this).parent().remove();
                    }
                    // end #1 Clone event
                </script>
            }


